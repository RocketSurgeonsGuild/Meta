<Project>
  <PropertyGroup>
    <UseAbstractions Condition="'$(UseAbstractions)' == ''">false</UseAbstractions>
    <UseCore Condition="'$(UseCore)' == ''">false</UseCore>
    <UseFunctions Condition="'$(UseFunctions)' == ''">false</UseFunctions>
    <UseHosting Condition="'$(UseHosting)' == ''">false</UseHosting>
    <UseAspNetCore Condition="'$(UseAspNetCore)' == ''">false</UseAspNetCore>

    <EnableAppMetrics Condition="'$(EnableAppMetrics)' == ''">true</EnableAppMetrics>
    <EnableAutoMapper Condition="'$(EnableAutoMapper)' == ''">true</EnableAutoMapper>
    <EnableCommandLine Condition="'$(EnableCommandLine)' == ''">true</EnableCommandLine>
    <EnableFluentValidation Condition="'$(EnableFluentValidation)' == ''">true</EnableFluentValidation>
    <EnableMediatR Condition="'$(EnableMediatR)' == ''">true</EnableMediatR>
    <EnableSerilog Condition="'$(EnableSerilog)' == ''">true</EnableSerilog>
  </PropertyGroup>
  <PropertyGroup>
    <!-- This list needs to be in reverse order of the dependencies (leaf first) so that the changes cascade correctly. -->
    <UseHosting Condition="'$(UseHosting)' == 'false' and '$(UseAspNetCore)' == 'true'">true</UseHosting>

    <UseCore Condition="'$(UseCore)' == 'false' and '$(UseFunctions)' == 'true'">true</UseCore>
    <UseCore Condition="'$(UseCore)' == 'false' and '$(UseHosting)' == 'true'">true</UseCore>
    <UseCore Condition="'$(UseCore)' == 'false' and '$(UseAspNetCore)' == 'true'">true</UseCore>

    <UseAbstractions Condition="'$(UseAbstractions)' == 'false' and '$(UseCore)' == 'true'">true</UseAbstractions>
  </PropertyGroup>
</Project>
